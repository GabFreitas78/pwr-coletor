<div class="flex flex-col min-h-screen">
  <app-header title="Minhas coletas" />

  <main class="flex-grow bg-background flex flex-col">
    <!-- Barra de Pesquisa -->
    <div class="p-4">
      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Pesquisar produto</mat-label>
        <input
          matInput
          type="text"
          [(ngModel)]="filtro"
          (input)="filtrarProdutos()"
          placeholder="Digite o nome ou cÃ³digo do produto"
        />
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>
    </div>

    <mat-list class="!p-0">
      @for(produto of produtosFiltrados; track produto.id) {
      <mat-list-item class="!h-auto !p-0">
        <app-coleta-item
          [nome]="produto.nome"
          [quantidade]="produto.quantidade"
          [codigo]="produto.codigo"
          [unidade]="produto.unidade"
        />
      </mat-list-item>
      @if (!$last) {
      <mat-divider />
      } }
    </mat-list>

    <div
      class="flex m-auto flex-col items-center justify-center gap-10 max-w-200 w-[80%]"
    >
      <button
        class="!flex !items-center !gap-2 !text-lg !leading-none !w-full !bg-primary !text-white !rounded-md !font-semibold"
        mat-raised-button
        [routerLink]="`/coleta/scan/${balancoId}`"
      >
        <span class="material-icons text-3xl">photo_camera</span>
        <span>Continuar coleta</span>
      </button>
      <button
        class="!text-lg !w-full !rounded-md"
        mat-flat-button
        routerLink="/"
      >
        Encerrar
      </button>
    </div>
  </main>
</div>
